{"version":3,"file":"forcedinstances_modal.min.js","sources":["../src/forcedinstances_modal.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Create a modal containing details of the forced rule instance $CFG option, this\n * will show the correct config to use for the current set of rule instances.\n *\n * The modal will show when the getinstncejson button is clicked.\n *\n * @module tool_registrationrules/forcedinstances_modal\n * @copyright 2025 Catalyst IT Europe {@link https://www.catalyst-eu.net}\n *            2025 eDaktik GmbH {@link https://www.edaktik.at/}\n *            2025 lern.link GmbH {@link https://lern.link/}\n *            2025 University of Strathclyde {@link https://www.strath.ac.uk}\n * @author    Dale Davies <dale.davies@catalyst-eu.net)\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport Modal from 'core/modal';\nimport Templates from 'core/templates';\nimport {getString} from 'core/str';\n\n/**\n * Main function of this module.\n */\nexport const init = () => {\n    const button = document.getElementById('getinstancejson');\n    button.addEventListener('click', async(e) => {\n        e.preventDefault();\n        await Modal.create({\n            title: getString('ruleinstancestable:instancesjson:ruleinstancesjson', 'tool_registrationrules'),\n            body: Templates.render('tool_registrationrules/forcedinstances_modal', {\n                'forcedinstancesjson': atob(button.dataset.forcedinstancesjson),\n            }),\n            large: true,\n            isVerticallyCentered: true,\n            show: true,\n        });\n    });\n};\n"],"names":["button","document","getElementById","addEventListener","async","e","preventDefault","Modal","create","title","body","Templates","render","atob","dataset","forcedinstancesjson","large","isVerticallyCentered","show"],"mappings":";;;;;;;;;;;;;;oLAqCoB,WACVA,OAASC,SAASC,eAAe,mBACvCF,OAAOG,iBAAiB,SAASC,MAAAA,IAC7BC,EAAEC,uBACIC,eAAMC,OAAO,CACfC,OAAO,kBAAU,qDAAsD,0BACvEC,KAAMC,mBAAUC,OAAO,+CAAgD,qBAC5CC,KAAKb,OAAOc,QAAQC,uBAE/CC,OAAO,EACPC,sBAAsB,EACtBC,MAAM"}